<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SmolRTSP: include/smolrtsp/controller.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">SmolRTSP<span id="projectnumber">&#160;0.1.3</span>
   </div>
   <div id="projectbrief">A small, portable, extensible RTSP 1.0 implementation in C99</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('controller_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">controller.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>An RTSP requests controller.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;<a class="el" href="context_8h_source.html">smolrtsp/context.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="droppable_8h_source.html">smolrtsp/droppable.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="request_8h_source.html">smolrtsp/types/request.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="writer_8h_source.html">smolrtsp/writer.h</a>&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;interface99.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for controller.h:</div>
<div class="dyncontent">
<div class="center"><img src="controller_8h__incl.png" border="0" usemap="#ainclude_2smolrtsp_2controller_8h" alt=""/></div>
<map name="ainclude_2smolrtsp_2controller_8h" id="ainclude_2smolrtsp_2controller_8h">
<area shape="rect" title="An RTSP requests controller." alt="" coords="238,5,445,31"/>
<area shape="rect" href="context_8h.html" title="A request context." alt="" coords="523,159,667,185"/>
<area shape="poly" title=" " alt="" coords="362,28,565,150,562,154,359,33"/>
<area shape="rect" href="droppable_8h.html" title="Droppable types support." alt="" coords="43,247,203,273"/>
<area shape="poly" title=" " alt="" coords="333,33,144,239,140,236,329,29"/>
<area shape="rect" title=" " alt="" coords="121,482,229,507"/>
<area shape="poly" title=" " alt="" coords="238,26,160,39,122,50,86,65,54,84,30,107,14,136,8,171,8,342,11,365,20,387,34,406,51,424,91,453,132,474,129,479,88,458,47,428,30,410,15,389,6,367,3,342,3,170,9,134,26,104,51,79,83,60,120,45,159,34,237,21"/>
<area shape="rect" href="writer_8h.html" title="The writer interface." alt="" coords="627,401,759,427"/>
<area shape="poly" title=" " alt="" coords="348,30,373,86,419,171,482,266,520,311,562,351,600,377,641,394,639,399,598,381,558,355,516,315,478,269,414,174,369,88,344,32"/>
<area shape="rect" title=" " alt="" coords="760,482,835,507"/>
<area shape="poly" title=" " alt="" coords="348,30,377,98,433,205,470,264,514,323,563,377,618,425,649,444,683,460,748,480,746,485,681,464,646,449,614,429,559,381,509,326,466,267,428,207,373,100,343,32"/>
<area shape="rect" href="request_8h.html" title="An RTSP request." alt="" coords="1815,79,1999,104"/>
<area shape="poly" title=" " alt="" coords="445,21,1801,83,1800,88,445,27"/>
<area shape="poly" title=" " alt="" coords="530,187,222,243,196,247,195,242,221,237,529,182"/>
<area shape="poly" title=" " alt="" coords="523,181,480,189,434,201,388,218,346,242,315,267,288,296,242,360,208,422,186,470,181,468,203,419,238,357,284,293,312,263,342,238,385,213,432,195,479,184,522,176"/>
<area shape="rect" title=" " alt="" coords="2189,475,2358,515"/>
<area shape="poly" title=" " alt="" coords="667,175,1800,237,1917,262,2006,289,2047,307,2089,331,2186,399,2221,431,2251,462,2247,466,2217,434,2182,403,2086,335,2045,312,2004,294,1915,267,1800,243,667,180"/>
<area shape="rect" href="message__body_8h.html" title="An RTSP message body." alt="" coords="1605,240,1787,280"/>
<area shape="poly" title=" " alt="" coords="667,175,1156,206,1591,237,1591,243,1156,211,667,180"/>
<area shape="poly" title=" " alt="" coords="591,186,579,217,567,260,564,308,569,331,578,352,602,377,634,394,631,399,599,381,574,355,564,332,559,308,562,259,574,215,586,184"/>
<area shape="rect" title=" " alt="" coords="303,482,377,507"/>
<area shape="poly" title=" " alt="" coords="523,178,484,185,444,196,407,215,375,242,358,268,345,297,337,328,333,360,333,421,338,468,333,468,327,421,328,360,332,327,340,296,353,265,371,238,404,210,442,191,483,179,522,173"/>
<area shape="rect" title=" " alt="" coords="1185,482,1265,507"/>
<area shape="poly" title=" " alt="" coords="606,183,644,229,707,295,789,366,834,397,881,424,957,454,1036,473,1110,484,1172,489,1171,494,1109,489,1035,478,955,459,879,429,831,402,785,370,704,299,640,232,601,186"/>
<area shape="rect" href="status__code_8h.html" title="An RTSP status code." alt="" coords="1144,240,1307,280"/>
<area shape="poly" title=" " alt="" coords="667,178,872,201,1131,237,1130,242,871,206,667,183"/>
<area shape="rect" title=" " alt="" coords="1291,328,1362,353"/>
<area shape="poly" title=" " alt="" coords="667,175,1051,201,1233,219,1292,229,1320,238,1332,255,1337,276,1335,315,1330,314,1332,276,1327,258,1317,242,1291,234,1232,225,1051,207,667,180"/>
<area shape="poly" title=" " alt="" coords="128,273,172,468,166,469,123,274"/>
<area shape="poly" title=" " alt="" coords="1788,269,1898,290,1957,305,2014,326,2080,357,2143,394,2241,464,2238,468,2140,399,2078,362,2012,330,1956,311,1897,295,1787,274"/>
<area shape="rect" href="error_8h.html" title="Possible parsing errors." alt="" coords="1640,328,1805,353"/>
<area shape="poly" title=" " alt="" coords="1705,279,1717,314,1712,316,1700,281"/>
<area shape="poly" title=" " alt="" coords="1645,283,1540,318,1417,356,1139,422,848,485,847,480,1138,416,1415,351,1538,313,1643,278"/>
<area shape="poly" title=" " alt="" coords="1674,282,1572,356,1513,396,1449,429,1361,461,1280,484,1278,479,1359,456,1447,424,1510,391,1569,351,1670,278"/>
<area shape="rect" title=" " alt="" coords="1889,401,1972,427"/>
<area shape="poly" title=" " alt="" coords="1765,278,1815,298,1863,326,1895,356,1919,388,1914,391,1891,360,1860,330,1812,302,1763,283"/>
<area shape="poly" title=" " alt="" coords="1740,351,1800,388,1838,408,1878,424,1954,447,2033,463,2175,483,2175,489,2032,469,1953,452,1876,429,1836,412,1797,392,1738,356"/>
<area shape="poly" title=" " alt="" coords="1640,350,774,410,773,405,1640,345"/>
<area shape="poly" title=" " alt="" coords="1654,356,848,488,848,482,1653,351"/>
<area shape="poly" title=" " alt="" coords="1708,356,1649,392,1611,412,1572,429,1494,453,1414,471,1280,491,1279,486,1413,466,1492,448,1570,424,1609,407,1647,387,1705,351"/>
<area shape="poly" title=" " alt="" coords="1757,351,1885,394,1883,399,1755,356"/>
<area shape="rect" title=" " alt="" coords="1691,401,1799,427"/>
<area shape="poly" title=" " alt="" coords="1729,353,1740,387,1735,389,1724,354"/>
<area shape="poly" title=" " alt="" coords="627,427,291,477,243,485,242,480,290,472,627,422"/>
<area shape="poly" title=" " alt="" coords="760,416,2175,486,2174,491,760,421"/>
<area shape="poly" title=" " alt="" coords="627,428,517,448,393,477,383,480,381,475,391,472,516,443,626,423"/>
<area shape="poly" title=" " alt="" coords="710,425,773,472,770,476,707,429"/>
<area shape="rect" title=" " alt="" coords="404,482,471,507"/>
<area shape="poly" title=" " alt="" coords="657,429,485,482,483,477,655,424"/>
<area shape="rect" title=" " alt="" coords="552,482,627,507"/>
<area shape="poly" title=" " alt="" coords="680,429,617,476,614,472,676,425"/>
<area shape="poly" title=" " alt="" coords="760,422,1172,483,1171,488,759,428"/>
<area shape="poly" title=" " alt="" coords="1227,280,1232,317,1239,336,1251,351,1281,373,1319,392,1366,409,1419,424,1541,449,1676,466,1817,478,1952,486,2175,491,2175,496,1952,491,1816,484,1676,472,1540,454,1417,429,1364,414,1317,397,1278,377,1247,355,1235,338,1227,318,1222,281"/>
<area shape="poly" title=" " alt="" coords="1307,271,1638,323,1637,329,1306,277"/>
<area shape="poly" title=" " alt="" coords="1160,283,747,400,746,395,1159,277"/>
<area shape="poly" title=" " alt="" coords="1212,282,1197,304,1187,329,1183,367,1189,405,1201,440,1214,468,1209,471,1196,442,1183,406,1177,367,1181,327,1193,301,1207,279"/>
<area shape="poly" title=" " alt="" coords="1233,279,1250,317,1264,336,1281,351,1328,371,1389,383,1461,391,1539,394,1693,395,1812,399,1876,405,1875,410,1812,404,1693,401,1539,400,1461,396,1388,389,1326,376,1279,356,1260,340,1246,320,1228,281"/>
<area shape="poly" title=" " alt="" coords="1251,278,1302,317,1299,321,1248,282"/>
<area shape="poly" title=" " alt="" coords="1999,90,2194,98,2308,108,2421,122,2525,143,2610,172,2644,190,2669,210,2685,233,2691,258,2691,342,2689,361,2683,376,2663,398,2633,413,2598,429,2543,453,2484,470,2426,482,2372,490,2371,484,2425,477,2482,465,2541,448,2596,424,2631,408,2659,393,2678,374,2684,360,2685,342,2685,259,2680,235,2665,213,2641,194,2608,177,2524,148,2421,127,2308,113,2194,103,1999,96"/>
<area shape="poly" title=" " alt="" coords="1894,106,1732,234,1729,229,1891,102"/>
<area shape="poly" title=" " alt="" coords="1907,105,1881,184,1856,235,1823,282,1795,306,1765,324,1762,320,1792,302,1819,278,1852,232,1876,182,1901,103"/>
<area shape="poly" title=" " alt="" coords="1815,95,1589,96,1313,103,1181,110,1068,121,982,136,954,144,936,154,916,176,904,199,900,223,902,248,910,273,922,299,958,352,994,393,1039,424,1107,456,1173,478,1171,483,1105,461,1036,429,990,397,954,355,918,302,905,275,897,249,894,223,899,198,912,173,933,150,952,139,981,130,1067,116,1181,105,1313,98,1589,90,1814,89"/>
<area shape="poly" title=" " alt="" coords="1999,99,2135,116,2290,144,2363,162,2427,184,2479,209,2498,223,2513,239,2522,260,2513,281,2497,297,2476,311,2421,336,2351,356,2274,374,2115,398,1986,411,1986,406,2114,393,2273,368,2350,351,2419,331,2473,306,2494,293,2508,279,2516,260,2508,241,2495,227,2476,214,2425,189,2362,167,2289,149,2135,121,1999,104"/>
<area shape="rect" href="header__map_8h.html" title="An RTSP header map." alt="" coords="947,152,1115,192"/>
<area shape="poly" title=" " alt="" coords="1815,104,1129,165,1128,159,1814,98"/>
<area shape="rect" href="request__line_8h.html" title="An RTSP request line." alt="" coords="2015,152,2187,192"/>
<area shape="poly" title=" " alt="" coords="1936,102,2043,144,2041,149,1934,106"/>
<area shape="poly" title=" " alt="" coords="1115,171,1456,176,1910,186,2129,195,2316,206,2450,220,2491,228,2512,238,2530,260,2539,280,2539,300,2530,320,2513,341,2489,366,2418,429,2383,453,2346,472,2343,467,2380,449,2414,425,2485,362,2509,338,2525,317,2533,299,2533,281,2525,263,2509,242,2490,233,2449,225,2315,211,2129,200,1910,192,1456,181,1115,177"/>
<area shape="poly" title=" " alt="" coords="1115,172,1296,176,1512,187,1614,196,1701,207,1766,220,1788,229,1802,238,1809,249,1810,259,1802,281,1784,305,1761,323,1758,319,1780,302,1798,279,1805,259,1804,250,1798,242,1786,233,1765,226,1700,212,1613,201,1511,192,1296,182,1115,177"/>
<area shape="poly" title=" " alt="" coords="987,194,951,215,919,242,877,300,844,364,821,423,806,470,801,468,816,422,839,361,872,297,915,238,948,210,984,190"/>
<area shape="poly" title=" " alt="" coords="947,183,838,203,779,220,724,242,680,267,638,296,561,361,499,424,457,473,453,470,495,420,557,357,634,292,677,262,722,238,778,215,836,198,946,178"/>
<area shape="poly" title=" " alt="" coords="947,193,860,220,763,262,716,289,671,322,631,360,598,403,591,418,588,435,588,468,582,468,582,435,586,417,594,400,627,356,668,318,713,285,761,257,858,215,945,188"/>
<area shape="poly" title=" " alt="" coords="985,194,955,214,932,241,926,260,932,279,955,316,983,349,1016,378,1051,405,1121,446,1182,474,1180,479,1119,451,1048,409,1013,383,980,352,950,319,927,281,920,260,927,239,951,210,982,190"/>
<area shape="poly" title=" " alt="" coords="1115,170,1283,171,1490,179,1592,187,1686,200,1764,216,1823,238,1844,252,1862,269,1892,309,1913,351,1926,387,1921,389,1908,354,1887,312,1858,272,1840,256,1820,242,1763,221,1685,205,1591,193,1489,184,1283,176,1115,175"/>
<area shape="rect" href="header_8h.html" title="An RTSP header." alt="" coords="941,247,1120,273"/>
<area shape="poly" title=" " alt="" coords="1033,192,1033,233,1028,233,1028,192"/>
<area shape="poly" title=" " alt="" coords="1047,271,1094,304,1164,348,1249,392,1294,410,1341,424,1413,437,1508,449,1739,468,1979,480,2175,488,2175,493,1979,486,1738,473,1507,454,1412,443,1339,429,1293,415,1247,397,1161,353,1091,309,1044,275"/>
<area shape="poly" title=" " alt="" coords="1088,270,1132,277,1401,309,1626,329,1626,335,1400,314,1132,283,1087,275"/>
<area shape="poly" title=" " alt="" coords="987,275,913,298,830,330,771,363,721,396,719,391,768,358,828,326,911,293,986,270"/>
<area shape="poly" title=" " alt="" coords="942,275,832,296,773,311,716,330,641,365,571,405,465,476,462,472,568,400,639,360,714,326,771,306,831,290,941,270"/>
<area shape="poly" title=" " alt="" coords="978,275,884,298,778,331,697,366,618,403,608,418,601,435,594,469,588,467,596,433,603,416,614,399,695,361,776,325,882,293,976,270"/>
<area shape="poly" title=" " alt="" coords="1043,271,1209,469,1205,473,1039,275"/>
<area shape="poly" title=" " alt="" coords="1053,270,1137,311,1193,333,1250,351,1334,369,1405,380,1528,389,1653,390,1812,399,1876,405,1875,410,1812,404,1653,395,1528,394,1405,386,1333,374,1249,356,1191,338,1135,316,1050,275"/>
<area shape="poly" title=" " alt="" coords="2188,172,2287,177,2396,187,2493,207,2530,221,2556,238,2577,260,2592,283,2602,307,2607,330,2607,355,2601,379,2590,404,2573,428,2560,440,2541,450,2491,466,2432,478,2372,487,2371,482,2431,473,2490,461,2539,445,2557,435,2569,425,2585,401,2596,377,2602,354,2602,331,2597,308,2587,286,2573,264,2553,242,2528,226,2492,212,2395,193,2287,182,2188,177"/>
<area shape="poly" title=" " alt="" coords="2090,194,2052,239,2026,262,1997,282,1954,302,1909,317,1820,335,1819,329,1907,312,1952,297,1995,278,2023,258,2049,235,2086,190"/>
<area shape="poly" title=" " alt="" coords="2015,180,1856,188,1671,201,1510,219,1454,230,1423,242,1410,254,1402,266,1396,293,1391,322,1377,355,1348,392,1315,425,1254,476,1251,472,1311,421,1344,388,1372,352,1386,321,1391,292,1397,264,1406,251,1420,238,1452,225,1509,214,1671,196,1856,182,2015,174"/>
<area shape="poly" title=" " alt="" coords="2094,194,2041,281,1994,343,1952,393,1948,389,1990,340,2036,279,2089,191"/>
<area shape="rect" href="method_8h.html" title="An RTSP method." alt="" coords="2117,247,2302,273"/>
<area shape="poly" title=" " alt="" coords="2127,190,2185,236,2182,241,2124,194"/>
<area shape="rect" href="request__uri_8h.html" title="An RTSP request URI." alt="" coords="2326,240,2498,280"/>
<area shape="poly" title=" " alt="" coords="2170,189,2332,234,2330,239,2169,195"/>
<area shape="rect" href="rtsp__version_8h.html" title="An RTSP version." alt="" coords="1433,240,1581,280"/>
<area shape="poly" title=" " alt="" coords="2015,185,1827,208,1594,243,1594,237,1826,203,2015,180"/>
<area shape="poly" title=" " alt="" coords="2281,270,2330,290,2352,306,2370,326,2384,353,2387,376,2382,401,2370,428,2353,451,2330,470,2326,465,2349,448,2366,425,2377,399,2382,376,2379,354,2366,330,2349,310,2328,295,2279,275"/>
<area shape="poly" title=" " alt="" coords="2139,275,1807,328,1807,323,2138,270"/>
<area shape="poly" title=" " alt="" coords="2201,275,2168,308,2118,352,2055,396,2021,415,1985,429,1923,444,1840,457,1639,476,1435,488,1279,494,1279,489,1435,483,1639,471,1839,452,1922,439,1983,424,2019,410,2053,391,2115,348,2165,304,2197,271"/>
<area shape="poly" title=" " alt="" coords="2194,275,2138,313,2065,356,1973,399,1971,394,2063,351,2135,308,2191,271"/>
<area shape="poly" title=" " alt="" coords="2418,280,2420,310,2419,349,2411,390,2394,428,2371,453,2344,471,2341,466,2368,449,2390,425,2406,388,2414,348,2415,310,2412,280"/>
<area shape="poly" title=" " alt="" coords="2326,281,2315,283,2046,315,1820,335,1819,330,2046,310,2314,277,2325,276"/>
<area shape="poly" title=" " alt="" coords="2380,282,2317,316,2232,356,2133,397,2030,429,1963,442,1874,454,1659,472,1279,494,1279,488,1659,467,1873,448,1962,437,2029,424,2131,392,2230,351,2315,311,2378,278"/>
<area shape="poly" title=" " alt="" coords="2353,283,1981,400,1979,395,2352,277"/>
<area shape="poly" title=" " alt="" coords="1581,275,1594,277,1727,298,1785,307,1858,325,1961,359,2062,397,2222,466,2220,471,2060,402,1959,364,1857,331,1784,313,1726,303,1593,283,1580,280"/>
<area shape="poly" title=" " alt="" coords="1559,278,1679,321,1677,326,1557,283"/>
<area shape="poly" title=" " alt="" coords="1489,282,1440,321,1409,340,1376,356,1325,370,1257,381,1092,398,918,408,773,414,773,408,917,403,1091,393,1256,376,1323,364,1374,351,1406,336,1437,317,1485,278"/>
<area shape="poly" title=" " alt="" coords="1504,281,1494,313,1476,352,1452,393,1420,429,1387,451,1351,468,1280,488,1278,483,1349,463,1385,447,1417,425,1448,390,1472,350,1489,311,1499,279"/>
<area shape="poly" title=" " alt="" coords="1581,275,1594,277,1658,288,1708,294,1758,303,1818,326,1870,356,1910,389,1907,394,1866,361,1816,330,1757,308,1707,299,1657,293,1593,283,1580,280"/>
<area shape="poly" title=" " alt="" coords="1465,282,1367,325,1365,320,1462,278"/>
</map>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="controller_8h__dep__incl.png" border="0" usemap="#ainclude_2smolrtsp_2controller_8hdep" alt=""/></div>
<map name="ainclude_2smolrtsp_2controller_8hdep" id="ainclude_2smolrtsp_2controller_8hdep">
<area shape="rect" title="An RTSP requests controller." alt="" coords="5,5,212,31"/>
<area shape="rect" href="smolrtsp_8h.html" title="Re&#45;exports all the functionality." alt="" coords="37,79,180,104"/>
<area shape="poly" title=" " alt="" coords="111,44,111,79,106,79,106,44"/>
</map>
</div>
</div>
<p><a href="controller_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a426d66ae9c95741c9ae8d35da94445cd" id="r_a426d66ae9c95741c9ae8d35da94445cd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#a426d66ae9c95741c9ae8d35da94445cd">SmolRTSP_Controller_IFACE</a></td></tr>
<tr class="memdesc:a426d66ae9c95741c9ae8d35da94445cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">A controller that handles incoming RTSP requests.  <br /></td></tr>
<tr class="separator:a426d66ae9c95741c9ae8d35da94445cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5dca43be11f9698aa758192e927280b" id="r_af5dca43be11f9698aa758192e927280b"><td class="memItemLeft" align="right" valign="top"><a id="af5dca43be11f9698aa758192e927280b" name="af5dca43be11f9698aa758192e927280b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>SmolRTSP_Controller_EXTENDS</b>&#160;&#160;&#160;(SmolRTSP_Droppable)</td></tr>
<tr class="memdesc:af5dca43be11f9698aa758192e927280b"><td class="mdescLeft">&#160;</td><td class="mdescRight">The superinterfaces of <a class="el" href="controller_8h.html#a426d66ae9c95741c9ae8d35da94445cd" title="A controller that handles incoming RTSP requests.">SmolRTSP_Controller_IFACE</a>. <br /></td></tr>
<tr class="separator:af5dca43be11f9698aa758192e927280b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a0a4c29b584a2ddbb29534ff7b6986ba6" id="r_a0a4c29b584a2ddbb29534ff7b6986ba6"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#a0a4c29b584a2ddbb29534ff7b6986ba6">SmolRTSP_ControlFlow</a> { <a class="el" href="controller_8h.html#a0a4c29b584a2ddbb29534ff7b6986ba6ac5ff2eff040aa97cb27fe7195269d413">SmolRTSP_ControlFlow_Break</a>
, <a class="el" href="controller_8h.html#a0a4c29b584a2ddbb29534ff7b6986ba6ac5aee4edf74535c6adeb9829e39cd954">SmolRTSP_ControlFlow_Continue</a>
 }</td></tr>
<tr class="memdesc:a0a4c29b584a2ddbb29534ff7b6986ba6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Whether to stop or continue some processing.  <a href="controller_8h.html#a0a4c29b584a2ddbb29534ff7b6986ba6">More...</a><br /></td></tr>
<tr class="separator:a0a4c29b584a2ddbb29534ff7b6986ba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab333d02b2e9746d231000906cbce686e" id="r_ab333d02b2e9746d231000906cbce686e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#ab333d02b2e9746d231000906cbce686e">interface99</a> (SmolRTSP_Controller)</td></tr>
<tr class="memdesc:ab333d02b2e9746d231000906cbce686e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Defines the <code>SmolRTSP_Controller</code> interface.  <br /></td></tr>
<tr class="separator:ab333d02b2e9746d231000906cbce686e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc8d32b42b1d76b8b014dda046e90a86" id="r_acc8d32b42b1d76b8b014dda046e90a86"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="controller_8h.html#acc8d32b42b1d76b8b014dda046e90a86">smolrtsp_dispatch</a> (SmolRTSP_Writer conn, SmolRTSP_Controller controller, const <a class="el" href="structSmolRTSP__Request.html">SmolRTSP_Request</a> *restrict req)</td></tr>
<tr class="memdesc:acc8d32b42b1d76b8b014dda046e90a86"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dispatches an incoming request to <code>controller</code>.  <br /></td></tr>
<tr class="separator:acc8d32b42b1d76b8b014dda046e90a86"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>An RTSP requests controller. </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a426d66ae9c95741c9ae8d35da94445cd" name="a426d66ae9c95741c9ae8d35da94445cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a426d66ae9c95741c9ae8d35da94445cd">&#9670;&#160;</a></span>SmolRTSP_Controller_IFACE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SmolRTSP_Controller_IFACE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">                                                                               \</div>
<div class="line">    <span class="comment">/*                                                                         \</span></div>
<div class="line"><span class="comment">     * Handles `OPTIONS` as defined in                                         \</span></div>
<div class="line"><span class="comment">     * &lt;https://datatracker.ietf.org/doc/html/rfc2326#section-10.1&gt;.           \</span></div>
<div class="line"><span class="comment">     */</span>                                                                        \</div>
<div class="line">    vfunc99(                                                                   \</div>
<div class="line">        <span class="keywordtype">void</span>, options, VSelf99, <a class="code hl_typedef" href="context_8h.html#a74d8be6059af5516c37fcebc14a70622">SmolRTSP_Context</a> *ctx,                         \</div>
<div class="line">        <span class="keyword">const</span> <a class="code hl_struct" href="structSmolRTSP__Request.html">SmolRTSP_Request</a> *req)                                           \</div>
<div class="line">                                                                               \</div>
<div class="line">    <span class="comment">/*                                                                         \</span></div>
<div class="line"><span class="comment">     * Handles `OPTIONS` as defined in                                         \</span></div>
<div class="line"><span class="comment">     * &lt;https://datatracker.ietf.org/doc/html/rfc2326#section-10.2&gt;.           \</span></div>
<div class="line"><span class="comment">     */</span>                                                                        \</div>
<div class="line">    vfunc99(                                                                   \</div>
<div class="line">        <span class="keywordtype">void</span>, describe, VSelf99, <a class="code hl_typedef" href="context_8h.html#a74d8be6059af5516c37fcebc14a70622">SmolRTSP_Context</a> *ctx,                        \</div>
<div class="line">        <span class="keyword">const</span> <a class="code hl_struct" href="structSmolRTSP__Request.html">SmolRTSP_Request</a> *req)                                           \</div>
<div class="line">                                                                               \</div>
<div class="line">    <span class="comment">/*                                                                         \</span></div>
<div class="line"><span class="comment">     * Handles `OPTIONS` as defined in                                         \</span></div>
<div class="line"><span class="comment">     * &lt;https://datatracker.ietf.org/doc/html/rfc2326#section-10.4&gt;.           \</span></div>
<div class="line"><span class="comment">     */</span>                                                                        \</div>
<div class="line">    vfunc99(                                                                   \</div>
<div class="line">        <span class="keywordtype">void</span>, setup, VSelf99, <a class="code hl_typedef" href="context_8h.html#a74d8be6059af5516c37fcebc14a70622">SmolRTSP_Context</a> *ctx,                           \</div>
<div class="line">        <span class="keyword">const</span> <a class="code hl_struct" href="structSmolRTSP__Request.html">SmolRTSP_Request</a> *req)                                           \</div>
<div class="line">                                                                               \</div>
<div class="line">    <span class="comment">/*                                                                         \</span></div>
<div class="line"><span class="comment">     * Handles `OPTIONS` as defined in                                         \</span></div>
<div class="line"><span class="comment">     * &lt;https://datatracker.ietf.org/doc/html/rfc2326#section-10.5&gt;.           \</span></div>
<div class="line"><span class="comment">     */</span>                                                                        \</div>
<div class="line">    vfunc99(                                                                   \</div>
<div class="line">        <span class="keywordtype">void</span>, play, VSelf99, <a class="code hl_typedef" href="context_8h.html#a74d8be6059af5516c37fcebc14a70622">SmolRTSP_Context</a> *ctx,                            \</div>
<div class="line">        <span class="keyword">const</span> <a class="code hl_struct" href="structSmolRTSP__Request.html">SmolRTSP_Request</a> *req)                                           \</div>
<div class="line">                                                                               \</div>
<div class="line">    <span class="comment">/*                                                                         \</span></div>
<div class="line"><span class="comment">     * Handles `OPTIONS` as defined in                                         \</span></div>
<div class="line"><span class="comment">     * &lt;https://datatracker.ietf.org/doc/html/rfc2326#section-10.7&gt;.           \</span></div>
<div class="line"><span class="comment">     */</span>                                                                        \</div>
<div class="line">    vfunc99(                                                                   \</div>
<div class="line">        <span class="keywordtype">void</span>, teardown, VSelf99, <a class="code hl_typedef" href="context_8h.html#a74d8be6059af5516c37fcebc14a70622">SmolRTSP_Context</a> *ctx,                        \</div>
<div class="line">        <span class="keyword">const</span> <a class="code hl_struct" href="structSmolRTSP__Request.html">SmolRTSP_Request</a> *req)                                           \</div>
<div class="line">                                                                               \</div>
<div class="line">    <span class="comment">/*                                                                         \</span></div>
<div class="line"><span class="comment">     * Handles a command that is neither of the above.                         \</span></div>
<div class="line"><span class="comment">     */</span>                                                                        \</div>
<div class="line">    vfunc99(                                                                   \</div>
<div class="line">        <span class="keywordtype">void</span>, unknown, VSelf99, <a class="code hl_typedef" href="context_8h.html#a74d8be6059af5516c37fcebc14a70622">SmolRTSP_Context</a> *ctx,                         \</div>
<div class="line">        <span class="keyword">const</span> <a class="code hl_struct" href="structSmolRTSP__Request.html">SmolRTSP_Request</a> *req)                                           \</div>
<div class="line">                                                                               \</div>
<div class="line">    <span class="comment">/*                                                                         \</span></div>
<div class="line"><span class="comment">     * A method that is invoked _before_ the actual request handling.          \</span></div>
<div class="line"><span class="comment">     */</span>                                                                        \</div>
<div class="line">    vfunc99(                                                                   \</div>
<div class="line">        <a class="code hl_enumeration" href="controller_8h.html#a0a4c29b584a2ddbb29534ff7b6986ba6">SmolRTSP_ControlFlow</a>, before, VSelf99, <a class="code hl_typedef" href="context_8h.html#a74d8be6059af5516c37fcebc14a70622">SmolRTSP_Context</a> *ctx,          \</div>
<div class="line">        <span class="keyword">const</span> <a class="code hl_struct" href="structSmolRTSP__Request.html">SmolRTSP_Request</a> *req)                                           \</div>
<div class="line">                                                                               \</div>
<div class="line">    <span class="comment">/*                                                                         \</span></div>
<div class="line"><span class="comment">     * A method that is invoked _after_ request handling.                      \</span></div>
<div class="line"><span class="comment">     */</span>                                                                        \</div>
<div class="line">    vfunc99(                                                                   \</div>
<div class="line">        <span class="keywordtype">void</span>, after, VSelf99, ssize_t ret, <a class="code hl_typedef" href="context_8h.html#a74d8be6059af5516c37fcebc14a70622">SmolRTSP_Context</a> *ctx,              \</div>
<div class="line">        <span class="keyword">const</span> <a class="code hl_struct" href="structSmolRTSP__Request.html">SmolRTSP_Request</a> *req)</div>
<div class="ttc" id="acontext_8h_html_a74d8be6059af5516c37fcebc14a70622"><div class="ttname"><a href="context_8h.html#a74d8be6059af5516c37fcebc14a70622">SmolRTSP_Context</a></div><div class="ttdeci">struct SmolRTSP_Context SmolRTSP_Context</div><div class="ttdoc">An opaque type used to conveniently respond to RTSP clients.</div><div class="ttdef"><b>Definition</b> context.h:23</div></div>
<div class="ttc" id="acontroller_8h_html_a0a4c29b584a2ddbb29534ff7b6986ba6"><div class="ttname"><a href="controller_8h.html#a0a4c29b584a2ddbb29534ff7b6986ba6">SmolRTSP_ControlFlow</a></div><div class="ttdeci">SmolRTSP_ControlFlow</div><div class="ttdoc">Whether to stop or continue some processing.</div><div class="ttdef"><b>Definition</b> controller.h:20</div></div>
<div class="ttc" id="astructSmolRTSP__Request_html"><div class="ttname"><a href="structSmolRTSP__Request.html">SmolRTSP_Request</a></div><div class="ttdoc">An RTSP request.</div><div class="ttdef"><b>Definition</b> request.h:21</div></div>
</div><!-- fragment -->
<p>A controller that handles incoming RTSP requests. </p>
<p>All RTSP command handlers accept the following parameters:</p><ul>
<li><code>ctx</code> &ndash; a request context used to respond to your RTSP client.</li>
<li><code>req</code> &ndash; a fully parsed request object. </li>
</ul>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a0a4c29b584a2ddbb29534ff7b6986ba6" name="a0a4c29b584a2ddbb29534ff7b6986ba6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a4c29b584a2ddbb29534ff7b6986ba6">&#9670;&#160;</a></span>SmolRTSP_ControlFlow</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="controller_8h.html#a0a4c29b584a2ddbb29534ff7b6986ba6">SmolRTSP_ControlFlow</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Whether to stop or continue some processing. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a0a4c29b584a2ddbb29534ff7b6986ba6ac5ff2eff040aa97cb27fe7195269d413" name="a0a4c29b584a2ddbb29534ff7b6986ba6ac5ff2eff040aa97cb27fe7195269d413"></a>SmolRTSP_ControlFlow_Break&#160;</td><td class="fielddoc"><p>Break processing. </p>
</td></tr>
<tr><td class="fieldname"><a id="a0a4c29b584a2ddbb29534ff7b6986ba6ac5aee4edf74535c6adeb9829e39cd954" name="a0a4c29b584a2ddbb29534ff7b6986ba6ac5aee4edf74535c6adeb9829e39cd954"></a>SmolRTSP_ControlFlow_Continue&#160;</td><td class="fielddoc"><p>Continue processing. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ab333d02b2e9746d231000906cbce686e" name="ab333d02b2e9746d231000906cbce686e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab333d02b2e9746d231000906cbce686e">&#9670;&#160;</a></span>interface99()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">interface99 </td>
          <td>(</td>
          <td class="paramtype">SmolRTSP_Controller&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Defines the <code>SmolRTSP_Controller</code> interface. </p>
<p>See <a href="https://github.com/hirrolot/interface99">Interface99</a> for the macro usage. </p>

</div>
</div>
<a id="acc8d32b42b1d76b8b014dda046e90a86" name="acc8d32b42b1d76b8b014dda046e90a86"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acc8d32b42b1d76b8b014dda046e90a86">&#9670;&#160;</a></span>smolrtsp_dispatch()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void smolrtsp_dispatch </td>
          <td>(</td>
          <td class="paramtype">SmolRTSP_Writer&#160;</td>
          <td class="paramname"><em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">SmolRTSP_Controller&#160;</td>
          <td class="paramname"><em>controller</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structSmolRTSP__Request.html">SmolRTSP_Request</a> *restrict&#160;</td>
          <td class="paramname"><em>req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dispatches an incoming request to <code>controller</code>. </p>
<p>The algorithm is as follows:</p>
<ol type="1">
<li>Setup a request context <a class="el" href="context_8h.html#a74d8be6059af5516c37fcebc14a70622" title="An opaque type used to conveniently respond to RTSP clients.">SmolRTSP_Context</a>. Later you can use it to configure an RTSP response via <a class="el" href="context_8h.html#a0ace1ebfae736c3239f911934eaf7cc2" title="The smolrtsp_vheader twin.">smolrtsp_header</a>, <a class="el" href="context_8h.html#a65b50758cacbd71d91b4ff3f070f3d93" title="Sets an RTSP body in the request context.">smolrtsp_body</a>, and similar.</li>
<li>Invoke the <code>before</code> method of <code>controller</code>. Here you should do some preliminary stuff like logging a request or setting up initial response headers via <a class="el" href="context_8h.html#a0ace1ebfae736c3239f911934eaf7cc2" title="The smolrtsp_vheader twin.">smolrtsp_header</a>. If <code>before</code> returns <a class="el" href="controller_8h.html#a0a4c29b584a2ddbb29534ff7b6986ba6ac5ff2eff040aa97cb27fe7195269d413" title="Break processing.">SmolRTSP_ControlFlow_Break</a>, jump to step #4.</li>
<li>Invoke a corresponding command handler of <code>controller</code>. Here you should handle the request and respond to your client via <a class="el" href="context_8h.html#adee0347ecb7b4bcedf9d142990b386c4" title="Writes an RTSP response to the underlying writer.">smolrtsp_respond</a>/<a class="el" href="context_8h.html#afeda949b122b1d1999ddd25ca489550b" title="A shortcut for smolrtsp_respond(ctx, SMOLRTSP_STATUS_OK, &quot;OK&quot;).">smolrtsp_respond_ok</a> or similar.</li>
<li>Invoke the <code>after</code> method of <code>controller</code>. Here you automatically receive the return value of <code>smolrtsp_respond_*</code> (invoked during one of the previous steps). If it is &lt;0, it means that something bad happened so that the handler has not been able to respond properly.</li>
<li>Drop the request context.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">conn</td><td>The writer to send RTSP responses. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">controller</td><td>The controller to handle the incoming request <code>req</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">req</td><td>The fully parsed RTSP request object.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd><code>conn.self &amp;&amp; conn.vptr</code> </dd>
<dd>
<code>controller.self &amp;&amp; controller.vptr</code> </dd>
<dd>
<code>req != NULL</code> </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_d9df11550791e941c069ba1bdc5c3ae8.html">smolrtsp</a></li><li class="navelem"><a class="el" href="controller_8h.html">controller.h</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
